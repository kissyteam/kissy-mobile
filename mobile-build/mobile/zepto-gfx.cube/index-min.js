(function(b,g){"function"===typeof define&&define.amd?define("zepto-gfx-cube",["zepto"],function(b){g(b)}):g(b.Zepto)})(this,function(b){var g={front:{rotateY:"0deg",rotateX:"0deg"},back:{rotateY:"-180deg",rotateX:"0deg"},right:{rotateY:"-90deg",rotateX:"0deg"},left:{rotateY:"90deg",rotateX:"0deg"},top:{rotateY:"0deg",rotateX:"-90deg"},bottom:{rotateY:"0deg",rotateX:"90deg"}},h={width:300,height:300,duration:400,easing:""},a;b.fn.gfxCube=function(f){var c=b(this),d=b.extend({},h,f||{}),e=d.translateZ||
d.width/2,f=b("<div />"),a,i,j,k,l;"number"===typeof e&&(e+="px");c.transform({position:"relative",width:d.width,height:d.height,"-webkit-perspective":"3000","-moz-perspective":"3000","-webkit-perspective-origin":"50% 50%","-moz-perspective-origin":"50% 50%"});f.addClass("gfxCubeWrapper").transform({position:"absolute",width:"100%",height:"100%",left:0,top:0,overflow:"visible",rotateY:"0deg",rotateX:"0deg",translateZ:"-"+e,"-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d",
"-webkit-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%"});c.children().wrapAll(f).css({display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,overflow:"hidden"});f=c.find(".front");a=c.find(".back");i=c.find(".right");j=c.find(".left");k=c.find(".top");l=c.find(".bottom");f.transform({rotateY:"0deg",translateZ:e});a.transform({rotateY:"180deg",translateZ:e});i.transform({rotateY:"90deg",translateZ:e});j.transform({rotateY:"-90deg",translateZ:e});k.transform({rotateX:"90deg",
translateZ:e});l.transform({rotateX:"-90deg",translateZ:e});c.bind("cube",function(f,a){c.find(".gfxCubeWrapper").animate(b.extend({},{translateZ:"-"+e},g[a]),d.duration,d.easing,function(){c.trigger("cube:changed",a)})})};a=/(Chrome)[\/]([\w.]+)/;a.exec(navigator.userAgent);a=a[1]&&a[2].test(/^12\./);if(!b.browser.webkit||a)b.fn.gfxCube=function(a){var c=b(this),a=b.extend({},h,a||{}),d=b("<div />");c.css({position:"relative",width:a.width,height:a.height});d.addClass("gfxCubeWrapper").transform({position:"absolute",
width:"100%",height:"100%",left:0,top:0,overflow:"visible"});c.children().wrapAll(d).css({display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,overflow:"hidden"});d=c.find(".gfxCubeWrapper");d.children("*:not(.front)").hide();c.bind("cube",function(a,b){d.children().hide();d.children("."+b).show();c.trigger("cube:changed",b)})}});
