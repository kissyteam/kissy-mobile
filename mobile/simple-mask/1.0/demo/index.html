<!doctype html>
<html manifest="appcache.manifest">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<title>蒙层测试蒙层测试</title>
<script type="text/javascript" src="http://a.tbcdn.cn/s/kissy/1.3.0/seed.js"></script>
<script>
	KISSY.config({
		packages:[
			{
				name:"mobile",
				tag:"20130521",
				path:"../../../../",  // 开发时目录, 发布到cdn上需要适当修改
			}
		]
	});
</script>
<link rel="apple-touch-icon" sizes="57x57" href="" />
</head>

<body>
	<style type="text/css">
		* { margin: 0; padding: 0; }
		html , body { height: 100%; font-size: 14px; }
		.hidden { visibility: hidden; }

		h1 { line-height: 40px; background: #eee; text-align: center; font-size: 18px; color: #000; }

		.shareList { width: 320px; margin: 0 auto; position: relative; }
		.shareList ul { padding: 10px 0;}
		.shareList li { list-style: none; line-height: 48px; height: 48px; border-bottom: 1px dashed #e2e2e2; }
		.shareList li span { float: left; margin-left: 15px; }
		.shareList li button { width: 19px; height: 19px; background: url('images/icon.png') no-repeat; background-size: 19px 19px; border: 0 none; float: right; margin: 15px 10px 0 0; }

		#assist-menu { position: absolute; width: 100%; left: 0; top: 0; }
		#assist-menu .assist-menu-mask { position: absolute; width: 100%; height: 100%; background: #000; opacity: 0.4; left: 0; top: 0; }
		#assist-menu-content { position: absolute; width: 320px; height: 185px; background: #e6e6e8; font-size: 16px; line-height: 44px; }
		#assist-menu-content h4 { height: 44px; border-bottom: 1px solid #d3d4d6; padding-left: 40px; border-top: 2px solid #f00; }
		#assist-menu-content li { height: 44px; border-bottom: 1px solid #d3d4d6; border-top: 1px solid #fff; list-style: none; padding-left: 40px; font-size: 16px; color: #f00; }
	</style>

	<h1>蒙层测试</h1>

	<section id="shareList" class="shareList">
		<ul class="pal">
			<li>
				<span>item1</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item2</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item3</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item4</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item5</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item6</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item7</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item8</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item9</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item10</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item11</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item12</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item13</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item14</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item15</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item16</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item17</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item18</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item19</span>
				<button class="trigMenu"></button>
			</li>
			<li>
				<span>item20</span>
				<button class="trigMenu"></button>
			</li>
		</ul>
			

	</section>

	<style>
		#removeMask{
			position:fixed;
			z-index:9999;
			top:0;
			left:0;
			font-size:20px;
		}

	</style>
	<button id="removeMask">显示/隐藏蒙层</button>

	<script>
		window.scrollTo(0,1);

		KISSY.use('mobile/simple-mask/1.0/' , function(S , Mask) {
			window.scrollTo(0 , 1);

			var m = Mask({
				zIndex:999,
				opacity:0.5,
				fade:true
			});

			m.addMask();
			S.one('#removeMask').on('click',function(e){
				if(m.masked()){
					m.removeMask();
				} else {
					m.addMask();
				}
			});

		});

	</script>
</body>
</html>
